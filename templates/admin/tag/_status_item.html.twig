{% block stream_success %}
    <turbo-stream action="replace" targets="#translation-status-item">
        <template>
            <twig:Xutim:Admin:SidebarItem id="translation-status-item">
                <twig:block name="header">
                    {{ 'status'|trans({}, 'admin')|capitalize }}:
                </twig:block>

                <twig:block name="content">
                    <div>
                        <span
                            class="badge me-2 text-bg-{{ translation.status.colorClass }}"
                        >
                            {{ translation.status.name }}
                        </span>
                    </div>

                    {% if is_granted_translation(content_context_language()) %}
                        {%
                            from '@XutimCore/admin/tag/_tag_sidebar.html.twig' import modalDialogPage
                        %}
                        <div>
                            {% if translation.status.canBeDrafted() %}
                                {{
                                    modalDialogPage(translation.id, constant('Xutim\\CoreBundle\\Entity\\PublicationStatus::Draft'), 'draft'|trans({}, 'admin')|capitalize, 'clipboard')
                                }}
                            {% endif %}

                            {% if translation.status.canPublish %}
                                {{
                                    modalDialogPage(translation.id, constant('Xutim\\CoreBundle\\Entity\\PublicationStatus::Published'), 'publish'|trans({}, 'admin')|capitalize, 'cloud-upload')
                                }}
                            {% endif %}

                            {% if translation.status.canSubmitForEvaluation %}
                                {{
                                    modalDialogPage(translation.id, constant('Xutim\\CoreBundle\\Entity\\PublicationStatus::Evaluation'), 'submit for evaluation'|trans({}, 'admin')|capitalize, 'refresh-alert')
                                }}
                            {% endif %}

                            {% if translation.status.canBeArchived %}
                                {{
                                    modalDialogPage(translation.id, constant('Xutim\\CoreBundle\\Entity\\PublicationStatus::Archived'), 'archive'|trans({}, 'admin')|capitalize, 'archive')
                                }}
                            {% endif %}
                        </div>
                    {% endif %}
                </twig:block>
            </twig:Xutim:Admin:SidebarItem>
        </template>
    </turbo-stream>
{% endblock %}
