{% macro languageBadge(translation, altLocale = null) %}
    {% import '@XutimCore/admin/common/badges.html.twig' as badges %}

    {% if translation.locale != content_context_language() %}
        {{ badges.languageBadge(translation) }}
    {% endif %}
{% endmacro %}

{% macro titleWithBadge(translatable, altLocale = null) %}
    {%
        import '@XutimCore/admin/common/translatable.html.twig' as translatableMacro
    %}
    {% if altLocale is null %}
        {%
            set trans = translatable.getTranslationByLocaleOrDefault(content_context_language())
        %}
    {% else %}
        {%
            set trans = translatable.getTranslationByLocaleOrFallback(content_context_language(), altLocale)
        %}
    {% endif %}

    {{ translatableMacro.languageBadge(trans) }}
    {{ trans }}
{% endmacro %}

{% macro toString(translatable) %}
    {%
        set trans = translatable.getTranslationByLocaleOrDefault(content_context_language())
    %}
    {{ trans }}
{% endmacro %}
